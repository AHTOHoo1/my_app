"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[495],{4495:function(e,t,s){s.r(t),s.d(t,{default:function(){return C}});var i=s(5671),a=s(3144),n=s(136),o=s(2882),r=s(8683),l=s(2791),c=s(8687),u=s(6871),d=s(7781),p=s(1548),h=s(8161),m=(s(3508),s(885)),f=s(7792),x=s(958),g=s(184),j=function(e){var t=(0,l.useState)(!1),s=(0,m.Z)(t,2),i=s[0],a=s[1],n=(0,l.useState)(e.status),o=(0,m.Z)(n,2),r=o[0],c=o[1];(0,l.useEffect)((function(){c(e.status)}),[e.status]);return(0,g.jsxs)("div",{children:[!i&&(0,g.jsx)("dir",{children:e.isOwner?(0,g.jsxs)("span",{onClick:function(){a(!0)},children:["My Status: ",e.status]}):(0,g.jsxs)("span",{children:["Status: ",e.status]})}),i&&(0,g.jsx)("div",{children:(0,g.jsx)("input",{className:"status__input",value:r,onChange:function(e){c(e.currentTarget.value)},onBlur:function(){a(!1),e.updateStatus(r)},autoFocus:!0})})]})},v=s(5705),b=function(e){var t=e.profile.contacts;return(0,g.jsx)("div",{children:(0,g.jsx)(v.J9,{initialValues:{fullName:e.profile.fullName,lookingForAJob:e.profile.lookingForAJob,lookingForAJobDescription:e.profile.lookingForAJobDescription,aboutMe:e.profile.aboutMe,contacts:{facebook:t.facebook,website:t.website,vk:t.vk,twitter:t.twitter,instagram:t.instagram,youtube:t.youtube,github:t.github,mainLink:t.mainLink}},onSubmit:function(t){e.onSubmit(t)},children:(0,g.jsxs)(v.l0,{children:[(0,g.jsxs)("div",{className:"about_me",children:["Name: ",(0,g.jsx)(v.gN,{type:"input",name:"fullName",className:"change_data_form"})]}),(0,g.jsxs)("div",{className:"about_me",children:["\u25cb Looking for a job? ",(0,g.jsx)(v.gN,{type:"checkbox",name:"lookingForAJob",className:"profile_checkbox"})," "]}),(0,g.jsxs)("div",{className:"about_me",children:["\u25cb My skills: ",(0,g.jsx)(v.gN,{type:"textarea",name:"lookingForAJobDescription",className:"change_data_form"})," "]}),(0,g.jsxs)("div",{className:"about_me",children:["\u25cb About me: ",(0,g.jsx)(v.gN,{type:"textarea",name:"aboutMe",className:"change_data_form"})," "]}),(0,g.jsxs)("div",{className:"about_me",children:["\u25cb Contacts: ",Object.keys(e.profile.contacts).map((function(e){return(0,g.jsxs)("div",{children:[e,": ",(0,g.jsx)(v.gN,{name:"contacts."+e,type:"input",className:"change_data_form"})]})}))]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("button",{type:"submit",className:"change_data_button",children:(0,g.jsx)("img",{alt:"change_data",width:30,src:"https://www.pngkey.com/png/full/445-4453331_checkmark-check-mark-in-a-circle.png"})}),(0,g.jsx)("button",{onClick:e.deactiveActiveMode,className:"change_data_button",children:(0,g.jsx)("img",{alt:"change_data",width:30,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f0/Phoenician_teth.svg/1024px-Phoenician_teth.svg.png"})})]})]})})})},_=function(e){return(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"about_me",children:["Name: ",e.profile.fullName]}),(0,g.jsxs)("div",{className:"about_me",children:["\u25cb Looking for a job: ",e.profile.lookingForAJob?"Yes, for sure":"No no no"]}),e.profile.lookingForAJob&&(0,g.jsxs)("div",{className:"about_me",children:["\u25cb Skills: ",e.profile.lookingForAJobDescription," "]}),(0,g.jsxs)("div",{className:"about_me",children:["\u25cb About me: ",e.profile.aboutMe]}),(0,g.jsxs)("div",{className:"about_me",children:["\u25cb Contacts: ",Object.keys(e.profile.contacts).map((function(t){return(0,g.jsx)(k,{contactTitle:t,contactValue:e.profile.contacts[t]},t)}))]}),e.isOwner&&(0,g.jsx)("button",{onClick:e.activeEditMode,className:"change_data_button",children:(0,g.jsx)("img",{alt:"change_data",width:30,src:"https://www.freeiconspng.com/thumbs/edit-icon-png/edit-icon-png-24.png"})})]})},k=function(e){var t=e.contactTitle,s=e.contactValue;return(0,g.jsxs)("div",{className:"about_me",children:[t,": ",s]})},N=function(e){var t=(0,l.useState)(!1),s=(0,m.Z)(t,2),i=s[0],a=s[1];if(!e.profile)return(0,g.jsx)(f.Z,{});return(0,g.jsx)("div",{children:(0,g.jsxs)("div",{className:"prof__info",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("img",{src:null!=e.profile.photos.large?e.profile.photos.large:x,className:"ava__img",alt:"ava",width:200,height:200}),e.isOwner&&(0,g.jsxs)("div",{className:"upload_file_block",children:[(0,g.jsx)("label",{htmlFor:"file-upload",children:(0,g.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/128/1092/1092216.png",className:"upload_file_img",alt:"upload_file_img"})}),(0,g.jsx)("input",{type:"file",id:"file-upload",name:"file-upload",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}})]})]}),(0,g.jsxs)("div",{className:"about",children:[(0,g.jsx)(j,{status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner}),i?(0,g.jsx)(b,(0,r.Z)((0,r.Z)({},e),{},{onSubmit:function(t){e.saveProfile(t),a(!1)},deactiveActiveMode:function(){a(!1)}})):(0,g.jsx)(_,(0,r.Z)((0,r.Z)({},e),{},{activeEditMode:function(){a(!0)}}))]})]})})},w=function(e){var t=(0,l.useState)(e.likes,e.id),s=(0,m.Z)(t,2),i=s[0],a=s[1];return(0,g.jsx)("div",{children:(0,g.jsxs)("div",{className:"post__item",children:[(0,g.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/1053/1053244.png",alt:"avatarka",className:"post__ava"}),(0,g.jsx)("div",{className:"post__text",children:e.text}),(0,g.jsx)("div",{children:(0,g.jsxs)("button",{className:"like__btn",onClick:function(){a(i+1)},children:[(0,g.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/57/57602.png",alt:"like_img",className:"like__img"}),(0,g.jsx)("span",{children:i})]})})]})})},P=function(e){return e?e.length>30?"Max length is 30 simbols(":void 0:"\u263c Required!"},y=l.memo((function(e){console.log("render");var t=e.posts.map((function(e){return(0,g.jsx)(w,{text:e.text,likes:e.likes},e.id)}));return(0,g.jsx)("div",{children:(0,g.jsxs)("div",{children:[(0,g.jsx)("h2",{children:"My posts"}),(0,g.jsx)("div",{children:(0,g.jsx)(v.J9,{initialValues:{post:""},onSubmit:function(t,s){var i=s.resetForm;e.addPost(t.post),i()},children:function(e){var t=e.errors,s=e.touched;return(0,g.jsxs)(v.l0,{children:[(0,g.jsx)("div",{children:(0,g.jsx)(v.gN,{className:t.post&&s.post?"text__input_error":"text__input",component:"textarea",name:"post",validate:P,placeholder:"Enter your text"})}),t.post&&s.post&&(0,g.jsx)("div",{children:t.post}),(0,g.jsx)("div",{children:(0,g.jsx)("button",{className:"btn",type:"submit",children:"Add post"})})]})}})}),(0,g.jsx)("div",{className:"posts",children:t})]})})})),S=(0,d.qC)((0,c.$j)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),{addPost:h.q2}),p.D)(y),Z=function(e){return(0,g.jsxs)("div",{children:[(0,g.jsx)(N,{isOwner:e.isOwner,savePhoto:e.savePhoto,profile:e.profile,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile}),(0,g.jsx)(S,{})]})},A=function(e){(0,n.Z)(s,e);var t=(0,o.Z)(s);function s(){return(0,i.Z)(this,s),t.apply(this,arguments)}return(0,a.Z)(s,[{key:"refreshProfile",value:function(){var e=this.props.params.userId;e||(e=this.props.profileId),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.params.userId!==e.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,g.jsx)(Z,(0,r.Z)((0,r.Z)({},this.props),{},{isOwner:!this.props.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),s}(l.Component),C=(0,d.qC)((0,c.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,profileId:e.auth.id}}),{setUserProfile:h.$l,getUserProfile:h.et,updateStatus:h.Nf,getStatus:h.lR,savePhoto:h.Ju,saveProfile:h.Ii}),(function(e){return function(t){var s=(0,u.UO)();return(0,g.jsx)(e,(0,r.Z)((0,r.Z)({},t),{},{params:s}))}}),p.D)(A)}}]);
//# sourceMappingURL=495.97dcccfc.chunk.js.map