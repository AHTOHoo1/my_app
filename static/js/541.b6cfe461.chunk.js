"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[541],{2541:function(t,s,e){e.r(s),e.d(s,{default:function(){return C}});var n=e(5671),i=e(3144),r=e(136),a=e(2882),o=e(8683),u=e(2791),l=e(8687),p=e(6871),c=e(7781),d=e(1548),h=e(8161),f=(e(3508),e(7792)),x=e(958),m=e(885),j=e(184),v=function(t){var s=(0,u.useState)(!1),e=(0,m.Z)(s,2),n=e[0],i=e[1],r=(0,u.useState)(t.status),a=(0,m.Z)(r,2),o=a[0],l=a[1];(0,u.useEffect)((function(){l(t.status)}),[t.status]);return(0,j.jsxs)("div",{children:[!n&&(0,j.jsx)("dir",{children:(0,j.jsxs)("span",{onClick:function(){i(!0)},children:["Status: ",t.status]})}),n&&(0,j.jsx)("div",{children:(0,j.jsx)("input",{className:"status__input",value:o,onChange:function(t){l(t.currentTarget.value)},onBlur:function(){i(!1),t.updateStatus(o)},autoFocus:!0})})]})},g=function(t){return t.profile?(0,j.jsxs)("div",{children:[(0,j.jsx)("img",{src:"https://helpx.adobe.com/content/dam/help/en/photoshop/using/convert-color-image-black-white/jcr_content/main-pars/before_and_after/image-before/Landscape-Color.jpg",alt:"shapka",className:"prof__img"}),(0,j.jsxs)("div",{className:"prof__info",children:[(0,j.jsx)("div",{children:(0,j.jsx)("img",{src:null!=t.profile.photos.large?t.profile.photos.large:x,className:"ava__img",alt:"ava",width:150,height:150})}),(0,j.jsxs)("div",{className:"about",children:[(0,j.jsxs)("div",{children:["Name: ",t.profile.fullName]}),(0,j.jsx)(v,{status:t.status,updateStatus:t.updateStatus})]})]})]}):(0,j.jsx)(f.Z,{})},_=function(t){var s=(0,u.useState)(t.likes),e=(0,m.Z)(s,2),n=e[0],i=e[1];return(0,j.jsx)("div",{children:(0,j.jsxs)("div",{className:"post__item",children:[(0,j.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/1053/1053244.png",alt:"avatarka",className:"post__ava"}),(0,j.jsx)("div",{className:"post__text",children:t.text}),(0,j.jsx)("div",{children:(0,j.jsxs)("button",{className:"like__btn",onClick:function(){i(n+1)},children:[(0,j.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/57/57602.png",alt:"like_img",className:"like__img"}),(0,j.jsx)("span",{children:n})]})})]})})},k=e(5705),N=function(t){return t?t.length>30?"Max length is 30 simbols(":void 0:"\u263c Required!"},S=u.memo((function(t){console.log("render");var s=t.posts.map((function(t){return(0,j.jsx)(_,{text:t.text,likes:t.likes},t.id)})).reverse();return(0,j.jsx)("div",{children:(0,j.jsxs)("div",{children:[(0,j.jsx)("h2",{children:"My posts"}),(0,j.jsx)("div",{children:(0,j.jsx)(k.J9,{initialValues:{post:""},onSubmit:function(s,e){var n=e.resetForm;t.addPost(s.post),n()},children:function(t){var s=t.errors,e=t.touched;return(0,j.jsxs)(k.l0,{children:[(0,j.jsx)("div",{children:(0,j.jsx)(k.gN,{className:s.post&&e.post?"text__input_error":"text__input",component:"textarea",name:"post",validate:N,placeholder:"Enter your text"})}),s.post&&e.post&&(0,j.jsx)("div",{children:s.post}),(0,j.jsx)("div",{children:(0,j.jsx)("button",{className:"btn",type:"submit",children:"Add post"})})]})}})}),(0,j.jsx)("div",{className:"posts",children:s})]})})})),b=(0,c.qC)((0,l.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),{addPost:h.q2}),d.D)(S),Z=function(t){return(0,j.jsxs)("div",{children:[(0,j.jsx)(g,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,j.jsx)(b,{})]})},P=function(t){(0,r.Z)(e,t);var s=(0,a.Z)(e);function e(){return(0,n.Z)(this,e),s.apply(this,arguments)}return(0,i.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.params.userId;t||(t=this.props.profileId),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,j.jsx)(Z,(0,o.Z)((0,o.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),e}(u.Component),C=(0,c.qC)((0,l.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,profileId:t.auth.id}}),{setUserProfile:h.$l,getUserProfile:h.et,updateStatus:h.Nf,getStatus:h.lR}),(function(t){return function(s){var e=(0,p.UO)();return(0,j.jsx)(t,(0,o.Z)((0,o.Z)({},s),{},{params:e}))}}),d.D)(P)}}]);
//# sourceMappingURL=541.b6cfe461.chunk.js.map