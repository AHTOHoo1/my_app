"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[495],{4495:function(t,e,s){s.r(e),s.d(e,{default:function(){return C}});var i=s(5671),a=s(3144),n=s(136),o=s(8557),r=s(1413),l=s(2791),c=s(8687),u=s(6871),d=s(7781),p=s(1548),h=s(1559),m=(s(3508),s(885)),f=s(7792),x=s(958),j=s(184),g=function(t){var e=(0,l.useState)(!1),s=(0,m.Z)(e,2),i=s[0],a=s[1],n=(0,l.useState)(t.status),o=(0,m.Z)(n,2),r=o[0],c=o[1];(0,l.useEffect)((function(){c(t.status)}),[t.status]);return(0,j.jsxs)("div",{children:[!i&&(0,j.jsx)("dir",{children:(0,j.jsxs)("span",{onClick:function(){a(!0)},children:["Status: ",t.status]})}),i&&(0,j.jsx)("div",{children:(0,j.jsx)("input",{className:"status__input",value:r,onChange:function(t){c(t.currentTarget.value)},onBlur:function(){a(!1),t.updateStatus(r)},autoFocus:!0})})]})},v=s(5705),b=function(t){var e=t.profile.contacts;return(0,j.jsx)("div",{children:(0,j.jsx)(v.J9,{initialValues:{fullName:t.profile.fullName,lookingForAJob:t.profile.lookingForAJob,lookingForAJobDescription:t.profile.lookingForAJobDescription,aboutMe:t.profile.aboutMe,contacts:{facebook:e.facebook,website:e.website,vk:e.vk,twitter:e.twitter,instagram:e.instagram,youtube:e.youtube,github:e.github,mainLink:e.mainLink}},onSubmit:function(e){t.onSubmit(e)},children:(0,j.jsxs)(v.l0,{children:[(0,j.jsxs)("div",{className:"about_me",children:["Name: ",(0,j.jsx)(v.gN,{type:"input",name:"fullName",className:"change_data_form"})]}),(0,j.jsxs)("div",{className:"about_me",children:["\u25cb Looking for a job? ",(0,j.jsx)(v.gN,{type:"checkbox",name:"lookingForAJob",className:"profile_checkbox"})," "]}),(0,j.jsxs)("div",{className:"about_me",children:["\u25cb My skills: ",(0,j.jsx)(v.gN,{type:"textarea",name:"lookingForAJobDescription",className:"change_data_form"})," "]}),(0,j.jsxs)("div",{className:"about_me",children:["\u25cb About me: ",(0,j.jsx)(v.gN,{type:"textarea",name:"aboutMe",className:"change_data_form"})," "]}),(0,j.jsxs)("div",{className:"about_me",children:["\u25cb Contacts: ",Object.keys(t.profile.contacts).map((function(t){return(0,j.jsxs)("div",{children:[t,": ",(0,j.jsx)(v.gN,{name:"contacts."+t,type:"input",className:"change_data_form"})]})}))]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("button",{type:"submit",className:"change_data_button",children:(0,j.jsx)("img",{alt:"change_data",width:30,src:"https://www.pngkey.com/png/full/445-4453331_checkmark-check-mark-in-a-circle.png"})}),(0,j.jsx)("button",{onClick:t.deactiveActiveMode,className:"change_data_button",children:(0,j.jsx)("img",{alt:"change_data",width:30,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f0/Phoenician_teth.svg/1024px-Phoenician_teth.svg.png"})})]})]})})})},_=function(t){return(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"about_me",children:["Name: ",t.profile.fullName]}),(0,j.jsxs)("div",{className:"about_me",children:["\u25cb Looking for a job: ",t.profile.lookingForAJob?"Yes, for sure":"No no no"]}),t.profile.lookingForAJob&&(0,j.jsxs)("div",{className:"about_me",children:["\u25cb Skills: ",t.profile.lookingForAJobDescription," "]}),(0,j.jsxs)("div",{className:"about_me",children:["\u25cb About me: ",t.profile.aboutMe]}),(0,j.jsxs)("div",{className:"about_me",children:["\u25cb Contacts: ",Object.keys(t.profile.contacts).map((function(e){return(0,j.jsx)(k,{contactTitle:e,contactValue:t.profile.contacts[e]},e)}))]}),t.isOwner&&(0,j.jsx)("button",{onClick:t.activeEditMode,className:"change_data_button",children:(0,j.jsx)("img",{alt:"change_data",width:30,src:"https://www.freeiconspng.com/thumbs/edit-icon-png/edit-icon-png-24.png"})})]})},k=function(t){var e=t.contactTitle,s=t.contactValue;return(0,j.jsxs)("div",{className:"about_me",children:[e,": ",s]})},N=function(t){var e=(0,l.useState)(!1),s=(0,m.Z)(e,2),i=s[0],a=s[1];if(!t.profile)return(0,j.jsx)(f.Z,{});return(0,j.jsx)("div",{children:(0,j.jsxs)("div",{className:"prof__info",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("img",{src:null!=t.profile.photos.large?t.profile.photos.large:x,className:"ava__img",alt:"ava",width:200,height:200}),t.isOwner&&(0,j.jsxs)("div",{className:"upload_file_block",children:[(0,j.jsx)("label",{htmlFor:"file-upload",children:(0,j.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/128/1092/1092216.png",className:"upload_file_img",alt:"upload_file_img"})}),(0,j.jsx)("input",{type:"file",id:"file-upload",name:"file-upload",onChange:function(e){e.target.files.length&&t.savePhoto(e.target.files[0])}})]})]}),(0,j.jsxs)("div",{className:"about",children:[t.isOwner?(0,j.jsx)(g,{status:t.status,updateStatus:t.updateStatus,isOwner:t.isOwner}):(0,j.jsxs)("span",{className:"hzs_status",children:["Status: ",t.status]}),i?(0,j.jsx)(b,(0,r.Z)((0,r.Z)({},t),{},{onSubmit:function(e){t.saveProfile(e),a(!1)},deactiveActiveMode:function(){a(!1)}})):(0,j.jsx)(_,(0,r.Z)((0,r.Z)({},t),{},{activeEditMode:function(){a(!0)}}))]})]})})},w=function(t){var e=(0,l.useState)(t.likes,t.id),s=(0,m.Z)(e,2),i=s[0],a=s[1];return(0,j.jsx)("div",{children:(0,j.jsxs)("div",{className:"post__item",children:[(0,j.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/1053/1053244.png",alt:"avatarka",className:"post__ava"}),(0,j.jsx)("div",{className:"post__text",children:t.text}),(0,j.jsx)("div",{children:(0,j.jsxs)("button",{className:"like__btn",onClick:function(){a(i+1)},children:[(0,j.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/57/57602.png",alt:"like_img",className:"like__img"}),(0,j.jsx)("span",{children:i})]})})]})})},P=function(t){return t?t.length>30?"Max length is 30 simbols(":void 0:"\u263c Required!"},y=l.memo((function(t){var e=t.posts.map((function(t){return(0,j.jsx)(w,{text:t.text,likes:t.likes},t.id)}));return(0,j.jsx)("div",{className:"just_posts",children:(0,j.jsxs)("div",{children:[(0,j.jsx)("h2",{children:"My posts"}),(0,j.jsx)("div",{children:(0,j.jsx)(v.J9,{initialValues:{post:""},onSubmit:function(e,s){var i=s.resetForm;t.addPost(e.post),i()},children:function(t){var e=t.errors,s=t.touched;return(0,j.jsxs)(v.l0,{children:[(0,j.jsx)("div",{children:(0,j.jsx)(v.gN,{className:e.post&&s.post?"text__input_error":"text__input",component:"textarea",name:"post",validate:P,placeholder:"Enter your text"})}),e.post&&s.post&&(0,j.jsx)("div",{children:e.post}),(0,j.jsx)("div",{children:(0,j.jsx)("button",{className:"btn",type:"submit",children:"Add post"})})]})}})}),(0,j.jsx)("div",{className:"posts",children:e})]})})})),S=(0,d.qC)((0,c.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),{addPost:h.q2}),p.D)(y),Z=function(t){return(0,j.jsxs)("div",{children:[(0,j.jsx)(N,{isOwner:t.isOwner,savePhoto:t.savePhoto,profile:t.profile,status:t.status,updateStatus:t.updateStatus,saveProfile:t.saveProfile}),(0,j.jsx)(S,{})]})},A=function(t){(0,n.Z)(s,t);var e=(0,o.Z)(s);function s(){return(0,i.Z)(this,s),e.apply(this,arguments)}return(0,a.Z)(s,[{key:"refreshProfile",value:function(){var t=this.props.params.userId;t||(t=this.props.profileId),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.params.userId!==t.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,j.jsx)(Z,(0,r.Z)((0,r.Z)({},this.props),{},{isOwner:!this.props.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),s}(l.Component),C=(0,d.qC)((0,c.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,profileId:t.auth.id}}),{setUserProfile:h.$l,getUserProfile:h.et,updateStatus:h.Nf,getStatus:h.lR,savePhoto:h.Ju,saveProfile:h.Ii}),(function(t){return function(e){var s=(0,u.UO)();return(0,j.jsx)(t,(0,r.Z)((0,r.Z)({},e),{},{params:s}))}}),p.D)(A)}}]);
//# sourceMappingURL=495.1b87b0d5.chunk.js.map